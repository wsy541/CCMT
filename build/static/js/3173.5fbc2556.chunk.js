"use strict";(self.webpackChunkarco_design_pro=self.webpackChunkarco_design_pro||[]).push([[3173],{6822:function(e,n,t){t.d(n,{Z:function(){return ce}});var r=t(4519),a=t(34799),i=t(49595),o=t(81099),l=t.n(o),u=t(61465),c=t(26678),s=t(18707),d=t(34998),f=t(9677),h=t(76188),p=t(68262),v=t(98537),m=function(e){var n=e.prefixCls,t=e.multiple,a=e.option,i=e.renderOption,o=e.selected,l=e.rtl,u=a.disabled||t&&a.disableCheckbox;return r.createElement(r.Fragment,null,t?r.createElement(d.Z,{disabled:u,checked:a._checked,indeterminate:a._halfChecked,onChange:e.onMultipleChecked,value:a.value}):"",r.createElement("div",{className:n+"-list-item-label",onClick:a.disabled?void 0:e.onClickOption,onMouseEnter:e.onMouseEnter,onDoubleClick:u?void 0:e.onDoubleClickOption},i?i():a.label,a.isLeaf?o&&r.createElement(v.Z,null):a.loading?r.createElement(p.Z,null):l?r.createElement(h.Z,null):r.createElement(f.Z,null)))};var g=t(66271),y=t(85186),b=t(7351),C=function(){return C=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},C.apply(this,arguments)},k=function(e,n){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,i=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(a)throw a.error}}return o},w=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,i=n.length;a<i;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},E=function e(n,t,r){var a=this;this.pathValue=[],this.pathLabel=[],this.config={},this._initNode=function(n,t){void 0===t&&(t=null);var r=a.config,i=r.showEmptyChildren,o=r.lazyload,l=C(C({},oe),a.config.fieldNames),u=n[l.children],c=!Array.isArray(u)||!i&&0===u.length;o&&(c=l.isLeaf in n&&!!n[l.isLeaf]);var s=n[l.value],d=n[l.label],f=C(C({},n),{value:s,label:d,isLeaf:c,loading:!1,loaded:!1,disabled:t&&t.disabled||n[l.disabled],parent:t,pathValue:t?w(w([],k(t.pathValue),!1),[s],!1):[s],pathLabel:t?w(w([],k(t.pathLabel),!1),[d],!1):[d],_level:t?t._level+1:0,_checked:!1,_halfChecked:!1});a._data=C(C({},f),{parent:f.parent&&f.parent._data}),Object.keys(f).forEach((function(e){a[e]=f[e]})),u&&u.length&&(a.children=u.map((function(n,t){return new e(C(C({},n),{_index:t}),a.config,a)})),a._data.children=a.children.map((function(e){return e._data})))},this._isHalfChecked=function(){var e=a.children.reduce((function(e,n){return e+(n._halfChecked?.5:n._checked?1:0)}),0);return e!==a.children.length&&e>0},this._setNodeChildrenChecked=function(e,n){!n&&a.disabled||a.children&&a.children.length&&(a.children.forEach((function(t){t.disabled?n&&t.setCheckedStateIgnoreDisabled(e):t.setCheckedState(e)})),a.updateHalfState(e))},this.getSelfChildrenValue=function(){var e=[];return function n(t,r){r&&r.length?(r||[]).forEach((function(e){n(e.pathValue,e.children)})):e.push(t)}(a.pathValue,a.children),e},this.updateHalfState=function(e){a._halfChecked=a._isHalfChecked(),a._checked=!a._halfChecked&&e},this.setCheckedProperty=function(e){a._checked=e,a._halfChecked=!1},this.setCheckedState=function(e){var n=e?a._checked:!a._checked&&!a._halfChecked;if(!a.disabled&&!n&&(a.setCheckedProperty(e),!a.config.changeOnSelect)){a._setNodeChildrenChecked(e);for(var t=a.parent;t&&!t.disabled;)t.updateHalfState(e),t=t.parent}},this.setCheckedStateIgnoreDisabled=function(e){if(e!==Boolean(a._checked)&&(a.setCheckedProperty(e),!a.config.changeOnSelect)){a._setNodeChildrenChecked(e,!0);for(var n=a.parent;n;)n.updateHalfState(e),n=n.parent}},this.getPathNodes=function(){for(var e=[a],n=a.parent;n;)e.unshift(n),n=n.parent;return e},this.getChildren=function(){return a.children},this.setLoading=function(e){a.loading=e,(e||void 0===e)&&(a.loaded=!1),!1===e&&(a.loaded=!0)},this.config=t||{},this._initNode(n,r||null)},N=E,S=function(){return S=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},S.apply(this,arguments)},V=function(e,n,t){var r=this;this.nodes=[],this.flatNodes=[],this.config={},this._calcNodes=function(e,n){return e?e.map((function(e,t){return new N(S(S({},e),{_index:t}),r.config,n)})):[]},this._updateFlatNodes=function(){var e=!r.config.changeOnSelect;r.flatNodes=[];var n=function n(t){t&&(e&&!t.isLeaf||r.flatNodes.push(t),(0,a.kJ)(t.children)&&t.children.forEach((function(e){n(e)})))};r.nodes.forEach((function(e){n(e)}))},this.setNodeCheckedByValue=function(e){var n=Z(e);r.flatNodes.forEach((function(e){var t=!1;r.config.showParent?e.pathValue.some((function(e,t,r){return D(n,r.slice(0,t+1))}))&&(t=!0):D(n,e.pathValue)&&(t=!0),e.setCheckedStateIgnoreDisabled(t)}))},this.appendOptionChildren=function(e,n){if(n&&e){var t=r._calcNodes(n,e);e.children=t,r._updateFlatNodes(),r.config.changeOnSelect||e.setCheckedState(!1)}},this.findNodeByValue=function(e){var n=null;return e&&e.length?(r.flatNodes.some((function(t){l()(t.pathValue,e)&&(n=t)})),n):n},this.searchNodeByLabel=function(e){if(!e)return r.flatNodes;var n=r.config.filterOption,t=(0,a.mf)(n)?n:function(e,n){return(0,a.HD)(n.label)&&n.label.indexOf(e)>-1};return r.flatNodes.filter((function(n){return n.getPathNodes().some((function(n){return t(e,n._data)}))}))},this.getOptions=function(){return r.nodes},this.getCheckedNodes=function(){return r.config.showParent?r.getCheckedParentNodes():r.flatNodes.filter((function(e){return e._checked}))},this.getCheckedParentNodes=function(){var e=new Set;return r.flatNodes.forEach((function(n){n._checked&&n.getPathNodes().some((function(n){if(n._checked)return e.has(n)||e.add(n),!0}))})),Array.from(e)},this.config=S({},t);var i=Array.isArray(n)?n:[];this.nodes=this._calcNodes(e,null),this._updateFlatNodes(),this.setNodeCheckedByValue(i)},O="__arco_cascader__",_="cascader",L="select";function P(e){return{showEmptyChildren:e.showEmptyChildren,changeOnSelect:e.changeOnSelect,lazyload:!!e.loadMore,fieldNames:e.fieldNames,filterOption:e.filterOption,showParent:"multiple"===e.mode&&!e.changeOnSelect&&"parent"===e.checkedStrategy}}function x(e,n){var t=n?Array.isArray(n[0])?n:[n]:[];return new V(e.options||[],t,P(e))}var Z=function(e){return(e||[]).reduce((function(e,n){return e.add([].concat(n).join(O)),e}),new Set)},D=function(e,n){var t=n||[];return e.has(t.join(O))},M=function(e,n,t){var r=[];if(r=void 0===e?[]:n?e:[e],t&&t.config.showParent){var a=t.getCheckedNodes(),i=Z(a.map((function(e){return e.pathValue}))),o=[],l={};return r.map((function(e){e.some((function(e,n,t){var r=t.slice(0,n+1),a=D(i,r);return a&&!l[r.join(O)]&&(o.push(r),l[r.join(O)]=1),a}))})),o}return r},A=function(e,n,t,r){var a=(!r||!function(e){return function e(n){return!!Array.isArray(n)&&n.every((function(n){return!(!n._checked&&!n.disabled)||e(n.children)}))}(null===e||void 0===e?void 0:e.children)}(t))&&r,i=n.getCheckedNodes().reduce((function(e,n){return e.add(n.pathValue.join(O)),e}),new Set);t.setCheckedState(a);var o=n.getCheckedNodes().map((function(e){return e.pathValue})),l=Z(o),u=new Set;return e.filter((function(e){if(!D(i,e)||D(l,e))return u.add(e.join(O)),!0})).concat(o.filter((function(e){return!D(u,e)})))},j=t(70042),F=function(){return F=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},F.apply(this,arguments)},R=function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(n){i(n)}}function l(e){try{u(r.throw(e))}catch(n){i(n)}}function u(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,l)}u((r=r.apply(e,n||[])).next())}))},H=function(e,n){var t,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(l){i=[6,l],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},B=function(e,n){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,i=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(a)throw a.error}}return o},I=function(e){if(e&&e.disabled){for(var n=e;n.parent&&n.parent.disabled;)n=n.parent;return n}return e},K=function(e,n){return e<0?n:e>n?0:e},T=function(e){var n,t=B(function(e){void 0===e&&(e=[]);var n=(0,r.useRef)(e);return[n.current,function(e,t){void 0!==t?n.current[t]=e:n.current.push(e)}]}(),2),i=t[0],o=t[1],d=(0,g.Z)(),f=e.store,h=e.prefixCls,p=e.value,v=e.multiple,C=e.renderFooter,k=e.renderOption,w=e.showEmptyChildren,E=e.loadMore,N=e.renderEmpty,S=e.rtl,V=B((0,r.useState)(f.findNodeByValue(p&&p[p.length-1])||null),2),O=V[0],_=V[1],L=f.getOptions(),P=function(n){e.onChange&&e.onChange(n)},x=function(n){return R(void 0,void 0,void 0,(function(){var t,r;return H(this,(function(i){switch(i.label){case 0:if(n.isLeaf||!(0,a.mf)(E)||n.children)return[3,5];n.setLoading(!0),d(),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,E(n.pathValue,n.pathValue.length)];case 2:return t=i.sent(),f.appendOptionChildren(n,t),f.setNodeCheckedByValue(e.value),[3,4];case 3:return r=i.sent(),console.error(r),[3,4];case 4:n.setLoading(!1),d(),i.label=5;case 5:return[2]}}))}))},Z=function(n,t){return void 0===t&&(t=!0),R(void 0,void 0,void 0,(function(){return H(this,(function(r){return!n||n.disabled||(_(n),x(n),!v&&t&&(e.changeOnSelect||n.isLeaf)&&P([n.pathValue])),[2]}))}))},D=function(n,t){var r=A(e.value,f,n,t);n===O&&d(),_(n),e.changeOnSelect||x(n),P(r)},M=(0,r.useCallback)((function(e){var n;void 0===e&&(e=O);for(var t=e;t;)null===(n=i[t._level])||void 0===n||n.scrollTo({index:t._index,options:{block:"nearest"}}),t=t._level<1?null:t.parent}),[O]),T=(0,r.useCallback)((function(n){n.stopPropagation();var t,r=n.keyCode||n.which;switch(r){case y.AV.code:n.preventDefault(),e.onEsc();break;case y.K5.code:case y.a2.code:if(O)for(var a=(l=I(O)).parent&&l.parent.children||L,i=r===y.K5.code?1:-1,o=K(l._index+i,a.length-1);o!==l._index&&(t=a[o]).disabled;)o=K(o+i,a.length-1);else t=function(e){for(var n=0;n<e.length;n++)if(!e[n].disabled)return e[n]}(L);return M(t),Z(t,!1),n.preventDefault(),!1;case y.ol.code:if(O&&!O.disabled)t=(a=O.children||[])[0]||O,Z(t,!1);return n.preventDefault(),!1;case y.Xd.code:var l;if(O)t=(l=I(O)).parent||l;return Z(t,!1),n.preventDefault(),!1;case y.Ce.code:return O&&(v?D(O,!O._checked):Z(O)),n.preventDefault(),!1}}),[O]);(0,b.Z)((function(){_((function(e){var n;if(e&&e.pathValue&&e.pathValue.length){var t=e.pathValue,r={children:L};t.map((function(e){var t=(r.children||[]).find((function(n){return n.value===e}));t&&(r=t,n=t)}))}return n}))}),[f]),(0,r.useEffect)((function(){e.popupVisible&&L.length&&setTimeout(M)}),[e.popupVisible]),(0,r.useEffect)((function(){return e.popupVisible?document.addEventListener("keydown",T):document.removeEventListener("keydown",T),function(){document.removeEventListener("keydown",T)}}),[e.popupVisible,T]);var z=function(){var e=[L];return(O?O.getPathNodes():[]).forEach((function(n){n&&n.children&&e.push(n.children)})),e}(),W=(0,a.mf)(e.dropdownColumnRender)?e.dropdownColumnRender:function(e){return e};return z.length&&(null===(n=z[0])||void 0===n?void 0:n.length)?r.createElement(u.Z,{component:r.Fragment},z.map((function(n,t){var i,u,d,f=C?C(t,O||null):null;return 0!==n.length||w?r.createElement(c.Z,{key:t,timeout:{enter:300,exit:0},classNames:"cascaderSlide",onEnter:function(e){e.style.marginLeft="-"+e.scrollWidth+"px"},onEntering:function(e){e.style.marginLeft="0px"},onEntered:function(e){e.style.marginLeft=""}},r.createElement("div",{className:(0,s.Z)(h+"-list-column",(i={},i[h+"-list-column-virtual"]=e.virtualListProps&&null!==e.virtualListProps.threshold,i[h+"-list-column-rtl"]=S,i)),style:F({zIndex:z.length-t},e.dropdownMenuColumnStyle)},W(r.createElement("div",{className:(0,s.Z)(h+"-list-wrapper",(u={},u[h+"-list-wrapper-with-footer"]=null!==f,u))},0===n.length?N&&N(e.virtualListProps?"100%":120):r.createElement(j.Z,F({needFiller:!1,threshold:e.virtualListProps?100:null,data:n,isStaticItemHeight:!0,itemKey:"value"},(0,a.Kn)(e.virtualListProps)?e.virtualListProps:{},{wrapper:"ul",role:"menu",ref:function(e){return o(e,t)},className:(0,s.Z)(h+"-list",h+"-list-select",(d={},d[h+"-list-multiple"]=v,d[h+"-list-rtl"]=S,d))}),(function(n){var a,i=!1;return O&&(i=O.pathValue[t]===n.value),r.createElement("li",{tabIndex:0,role:"menuitem","aria-haspopup":!n.isLeaf,"aria-expanded":i&&!n.isLeaf,"aria-disabled":n.disabled,key:n.value,title:n.label,className:(0,s.Z)(h+"-list-item",(a={},a[h+"-list-item-active"]=i,a[h+"-list-item-disabled"]=n.disabled,a))},r.createElement(m,{prefixCls:h,rtl:S,multiple:v,option:n,selected:!v&&n.isLeaf&&l()(e.value,n.pathValue),onMouseEnter:function(){n.disabled||"hover"===e.expandTrigger&&(_(n),!n.isLeaf&&x(n))},renderOption:k&&function(){return k(n._data,t)},onClickOption:function(){n.isLeaf&&v&&!n.disableCheckbox?D(n,!n._checked):Z(n)},onMultipleChecked:function(e){D(n,e)},onDoubleClickOption:e.onDoubleClickOption}))})),f&&r.createElement("div",{className:h+"-list-footer",onMouseDown:function(e){e.stopPropagation()}},f)),t))):null}))):r.createElement(r.Fragment,null,N())},z=t(55545),W=t(55110),J=function(){return J=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},J.apply(this,arguments)},U=function(e,n){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,i=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(a)throw a.error}}return o},G=function(e,n){return e<0?n:e>n?0:e},X=function(e){var n,t=e.store,i=e.prefixCls,o=e.multiple,u=e.onChange,c=e.inputValue,f=e.renderEmpty,h=e.style,p=e.defaultActiveFirstOption,m=e.rtl,g=e.value||[],C=U((0,r.useState)(t.searchNodeByLabel(c)||[]),2),k=C[0],w=C[1],E=(0,r.useRef)(),N=(0,r.useRef)(),S=(0,W.Z)(),V=U((0,r.useState)(p?0:-1),2),O=V[0],_=V[1],L=function(n,r,a){if(a.stopPropagation(),!n.disabled)if(o){var i=A(e.value,t,n,r);u&&u(i)}else u&&u([n.pathValue])};return(0,b.Z)((function(){w(t.searchNodeByLabel(c))}),[c]),(0,b.Z)((function(){_((function(e){return e>k.length-1?p?0:-1:e}))}),[k]),(0,r.useEffect)((function(){var n=function(n){n.stopPropagation();var t=n.keyCode||n.which;switch(t){case y.AV.code:return e.onEsc(),!1;case y.K5.code:case y.a2.code:N.current=!0;for(var r=y.K5.code===t?1:-1,a=G(O+r,k.length-1);a!==O;){if(!k[a].disabled)break;a=G(a+r,k.length-1)}return _(a),!1;case y.Ce.code:var i=k[O];if(i){var o=g.some((function(e){return l()(e,i.pathValue)}));L(i,!o,n)}return!1}};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}),[k,O,g]),(0,r.useEffect)((function(){var e,n=E.current;n&&(N.current||S)&&(0,z.Z)(n,{behavior:"instant",block:"nearest",scrollMode:"if-needed",boundary:null===(e=n.parentNode)||void 0===e?void 0:e.parentNode})}),[O,k]),E.current=null,k.length?r.createElement("div",{className:i+"-list-wrapper"},r.createElement(j.Z,J({needFiller:!1,wrapper:"ul",role:"menu",style:h,data:k,isStaticItemHeight:!0,threshold:e.virtualListProps?100:null},(0,a.Kn)(e.virtualListProps)?e.virtualListProps:{},{onMouseMove:function(){N.current=!1},className:(0,s.Z)(i+"-list",i+"-list-search",(n={},n[i+"-list-multiple"]=o,n[i+"-list-rtl"]=m,n))}),(function(n,t){var l,u=n.getPathNodes().map((function(e){return e.label})).join(" / "),f=(0,a.mf)(e.renderOption)?e.renderOption(c,n._data):function(e,n,t){var i=n;if((0,a.HD)(n)){var o=n.toUpperCase().indexOf(e.toUpperCase());if(o>-1){var l=n.substr(0,o),u=n.substr(o+e.length);i=r.createElement(r.Fragment,null,l,r.createElement("span",{className:t+"-highlight"},n.substr(o,e.length)),u)}}return i}(c,u,i),h=n._checked;return r.createElement("li",{title:(0,a.HD)(f)?f:(0,a.HD)(u)?u:void 0,role:"menuitem","aria-disabled":n.disabled,ref:function(e){t===O&&(E.current=e),h&&!E.current&&(E.current=e)},className:(0,s.Z)(i+"-list-search-item",(l={},l[i+"-list-search-item-active"]=h,l[i+"-list-search-item-hover"]=t===O,l[i+"-list-search-item-disabled"]=n.disabled,l)),onClick:function(e){L(n,!h,e)},key:t,onMouseEnter:function(){N.current||n.disabled||_(t)},onMouseLeave:function(){N.current||n.disabled||_(p?0:-1)}},r.createElement("div",{className:i+"-list-item-label"},(0,a.mf)(e.renderOption)?f:o?r.createElement(d.Z,{checked:h,disabled:n.disabled},f):r.createElement(r.Fragment,null,f,h&&r.createElement("span",{className:i+"-check-icon"},r.createElement(v.Z,null)))))}))):r.createElement(r.Fragment,null,f&&f())},q=t(75624),Q=t(43384),Y=t(90725),$=function(e,n){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,i=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(a)throw a.error}}return o},ee=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,i=n.length;a<i;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))};var ne=function(e,n){var t=(0,r.useRef)(null),a=(0,g.Z)();return t.current||(t.current=e()),(0,b.Z)((function(){t.current=e(),a()}),ee([],$(n),!1)),t.current},te=t(6431),re=t(13412),ae=function(){return ae=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ae.apply(this,arguments)},ie=function(e,n){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,i=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(a)throw a.error}}return o},oe={label:"label",value:"value",isLeaf:"isLeaf",children:"children",disabled:"disabled"},le={options:[],bordered:!0,fieldNames:oe,trigger:"click",expandTrigger:"click",checkedStrategy:"child",defaultActiveFirstOption:!0};var ue=(0,r.forwardRef)((function(e,n){var t=(0,r.useContext)(q.E_),o=t.getPrefixCls,l=t.renderEmpty,u=t.componentConfig,c=t.rtl,d=(0,te.Z)(e,le,null===u||void 0===u?void 0:u.Cascader),f=d.disabled,h=d.renderFormat,p=d.getPopupContainer,v=d.children,m=d.triggerProps,C=d.expandTrigger,k=o("cascader"),w="multiple"===d.mode,E=(0,r.useRef)(null),N=(0,g.Z)(),S=ne((function(){return x(d,M("value"in d?d.value:d.defaultValue,w))}),[JSON.stringify(P(d)),d.options]),V=ie((0,r.useState)((function(){return"value"in d?M(d.value,w,S):"defaultValue"in d?M(d.defaultValue,w,S):[]})),2),A=V[0],j=V[1],F="value"in d?M(d.value,w,S):A,R=ie((0,Y.Z)(!1,{value:d.popupVisible,defaultValue:d.defaultPopupVisible}),2),H=R[0],B=R[1],I=ie((0,Y.Z)("",{value:"inputValue"in d?d.inputValue||"":void 0}),3),K=I[0],z=I[1],W=I[2],J=(0,r.useRef)(K),U=(0,r.useRef)(null),G=(0,r.useRef)(null),$=(0,r.useRef)((null===S||void 0===S?void 0:S.getCheckedNodes())||[]),ee=(0,re.Z)(k+"-popup-"),oe=function(e,n){e!==J.current&&(z(e),J.current=e,U.current=n,d.onInputValueChange&&d.onInputValueChange(e,n))};(0,r.useEffect)((function(){var e=U.current;W!==K||"manual"!==e&&"optionListHide"!==e||d.onSearch&&d.onSearch(K,e)}),[K]),(0,r.useEffect)((function(){var e=function(){clearTimeout(E.current),E.current=null};return!H&&K&&(E.current&&e(),E.current=setTimeout((function(){oe("","optionListHide"),E.current=null}),200)),function(){e()}}),[H]),(0,b.Z)((function(){if("value"in d&&d.value!==A){var e=M(d.value,w);S.setNodeCheckedByValue(e),j(e)}}),[d.value,w]),(0,r.useImperativeHandle)(n,(function(){return G.current}),[]);var ue,ce=function(e){var n=[],t=Z(e),r=function(e){e.some((function(e){if(D(t,e.pathValue)&&(n.push(e.getPathNodes().map((function(e){return e._data}))),function(e,n){var t=n||[];e.delete(t.join(O))}(t,e.pathValue)),!t.size)return!0}))};return r(S.getCheckedNodes()),t.size&&r($.current),n},se=(0,r.useCallback)((function(e){e!==H&&(d.onVisibleChange&&d.onVisibleChange(e),"popupVisible"in d||B(e))}),[d.onVisibleChange,H]),de=(0,r.useCallback)((function(e){var n,t=ce([e])[0]||[],r=(0,a.kJ)(e)?e.map((function(e){return String(e)})):[];return t.length&&(r=t.map((function(e){return e.label}))),{text:((0,a.mf)(h)?h(r):r.every((function(e){return(0,a.HD)(e)}))?r.join(" / "):r.reduce((function(e,n,t){return e.concat(0===t?[n]:[" / ",n])}),[]))||"",disabled:null===(n=t[t.length-1])||void 0===n?void 0:n.disabled}}),[S,h]),fe=function(e,n){var t;"panel"===n&&(0,a.Kn)(d.showSearch)&&!d.showSearch.retainInputValueWhileSelect&&w&&oe("","optionChecked");var r=d.onChange,i=d.changeOnSelect,o=d.expandTrigger;if(!(F===e)){var l;w||S.setNodeCheckedByValue(e),l=S.getCheckedNodes(),$.current=Array.from(new Set([].concat(l,$.current)));var u=ce(e),c=w?e:e[0],s=w?u:u[0];w||(K||u[0]&&(null===(t=u[0][u[0].length-1])||void 0===t?void 0:t.isLeaf)||i&&"hover"===o)&&se(!1),"value"in d?(S.setNodeCheckedByValue(F),N()):j(e),r&&r(c,s,{dropdownVisible:H})}},he=function(e){var n=e||G.current&&G.current.getWidth();return r.createElement("div",{className:k+"-list-empty",style:{width:n}},d.notFoundContent||l("Cascader"))};return r.createElement(i.Z,ae({popup:function(){var e,n=(0,a.Kn)(d.showSearch)?d.showSearch.panelMode:void 0,t=n===L||n!==_&&(!(0,a.mf)(d.onSearch)&&!!K),i=G.current&&G.current.getWidth(),o=(0,a.mf)(d.dropdownRender)?d.dropdownRender:function(e){return e};return r.createElement("div",{id:ee,className:(0,s.Z)(k+"-popup",d.dropdownMenuClassName,(e={},e[k+"-popup-trigger-hover"]="hover"===d.expandTrigger,e))},o(r.createElement("div",{className:k+"-popup-inner",onMouseDown:function(e){return e.preventDefault()}},t?r.createElement(X,{style:{minWidth:i},store:S,inputValue:K,renderEmpty:function(){return he(i)},multiple:w,onChange:function(e){fe(e,"panel")},prefixCls:k,rtl:c,onEsc:function(){se(!1)},renderOption:(0,a.Kn)(d.showSearch)&&d.showSearch.renderOption||void 0,value:F,virtualListProps:d.virtualListProps,defaultActiveFirstOption:d.defaultActiveFirstOption}):r.createElement(T,{dropdownMenuColumnStyle:d.dropdownMenuColumnStyle,virtualListProps:d.virtualListProps,expandTrigger:C,store:S,dropdownColumnRender:d.dropdownColumnRender,renderOption:d.renderOption,changeOnSelect:d.changeOnSelect,showEmptyChildren:d.showEmptyChildren||!!d.loadMore,multiple:w,onChange:function(e){fe(e,"panel")},loadMore:d.loadMore,prefixCls:k,rtl:c,renderEmpty:he,popupVisible:H,value:F,renderFooter:d.renderFooter,onEsc:function(){se(!1)},onDoubleClickOption:function(){d.changeOnSelect&&!w&&se(!1)}}))))},trigger:d.trigger,disabled:f,getPopupContainer:p,position:c?"br":"bl",classNames:"slideDynamicOrigin",popupAlign:{bottom:4},unmountOnExit:"unmountOnExit"in d?d.unmountOnExit:!(0,a.mf)(d.loadMore),popupVisible:H},m,{onVisibleChange:se}),v||r.createElement(Q.Z,ae({},d,{ref:G,ariaControls:ee,popupVisible:H,value:w?F:F&&F[0],inputValue:K,rtl:c,isEmptyValue:(ue=F,!ue||(0,a.kJ)(ue)&&0===ue.length),prefixCls:k,isMultiple:w,renderText:de,onRemoveCheckedItem:function(e,n,t){if(t.stopPropagation(),!e.disabled){var r=F.filter((function(e,t){return t!==n}));S.setNodeCheckedByValue(r),fe(r)}},onSort:function(e){j(e)},onClear:function(e){var n;if(e.stopPropagation(),w){var t=S.getCheckedNodes().filter((function(e){return e.disabled})).map((function(e){return e.pathValue}));S.setNodeCheckedByValue(t),fe(t)}else fe([]);null===(n=d.onClear)||void 0===n||n.call(d,!!H)},onKeyDown:function(e){var n;if(!f){e.stopPropagation();var t=e.keyCode||e.which;t!==y.Ce.code||H||(se(!0),e.preventDefault()),t===y.OK.code&&H&&se(!1),null===(n=d.onKeyDown)||void 0===n||n.call(d,e)}},onChangeInputValue:function(e){oe(e,"manual"),H||se(!0)}})))}));ue.displayName="Cascader";var ce=ue},93146:function(e,n,t){t(75009),t(41169),t(7247),t(39340),t(34702)},15861:function(e,n,t){function r(e,n,t,r,a,i,o){try{var l=e[i](o),u=l.value}catch(c){return void t(c)}l.done?n(u):Promise.resolve(u).then(r,a)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(a,i){var o=e.apply(n,t);function l(e){r(o,a,i,l,u,"next",e)}function u(e){r(o,a,i,l,u,"throw",e)}l(void 0)}))}}t.d(n,{Z:function(){return a}})}}]);
//# sourceMappingURL=3173.5fbc2556.chunk.js.map