"use strict";(self.webpackChunkarco_design_pro=self.webpackChunkarco_design_pro||[]).push([[6583,3050],{86129:function(e,t,n){var a=n(4519),r=n(5813),l=n(31850);function i(e){return a.isValidElement(e)?e:a.createElement(a.Fragment,null,e)}t.Z=function(e){var t=e.backup,n=e.requiredPermissions,c=e.oneOfPerm,o=(0,r.v9)((function(e){return e.userInfo}));return(0,a.useMemo)((function(){return(0,l.Z)({requiredPermissions:n,oneOfPerm:c},o.permissions)}),[c,n,o.permissions])?a.createElement(a.Fragment,null,i(e.children)):t?a.createElement(a.Fragment,null,i(t)):null}},6583:function(e,t,n){n.r(t);var a=n(4942),r=n(29439),l=(n(47872),n(82357)),i=(n(36287),n(73575)),c=n(23116),o=(n(4316),n(30894)),s=(n(79606),n(7424)),u=(n(63915),n(19050)),d=(n(56710),n(86721)),m=(n(35749),n(29413)),f=(n(70198),n(51993)),p=(n(2373),n(39230)),h=n(4519),v=n(43270),y=n.n(v),g=n(86129),b=n(5001),E=n(63050),k=n(69394),L=n(82399);function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Z.apply(this,arguments)}var N=p.Z.Item,S=f.Z.TextArea;t.default=function(e){var t=e.card,n=void 0===t?{}:t,v=(0,h.useState)(!1),w=(0,r.Z)(v,2),C=w[0],x=w[1],q=(0,h.useState)(n.status),O=(0,r.Z)(q,2),P=(O[0],O[1],(0,h.useState)(e.loading)),j=(0,r.Z)(P,2),I=j[0],F=j[1],z=(0,h.useContext)(L.k),T=(z.userId,z.setUserId,z.token),_=(z.setToken,(0,h.useState)(!1)),A=(0,r.Z)(_,2),D=A[0],B=A[1],V=(0,h.useState)(!1),J=(0,r.Z)(V,2),R=J[0],M=J[1],U=(0,h.useState)(!1),H=(0,r.Z)(U,2),K=H[0],G=H[1],W=p.Z.useForm(),Y=(0,r.Z)(W,1)[0],Q=(0,h.useState)("0"),X=(0,r.Z)(Q,2),$=X[0],ee=X[1],te=(0,b.Z)(E.default),ne=[te["cardList.change.name"],te["cardList.change.method"],te["cardList.change.data"]],ae=n.description.replaceAll(":",":\n").replaceAll("]","]\n");function re(){var e={query:"\n        mutation {\n              deleteEvent (eventId:".concat(n.id,") \n          }\n        ")};fetch("http://182.92.125.165:8080/graphql",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer "+T}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){location.reload()})).catch((function(e){console.log(e)})).finally()}(0,h.useEffect)((function(){F(e.loading)}),[e.loading]);var le=y()(k.default["card-block"],k.default["quality-card"]);return h.createElement(l.Z,{bordered:!0,className:le,size:"small",title:I?h.createElement(u.Z,{animation:!0,text:{rows:1,width:["100%"]},style:{width:"120px",height:"24px"},className:k.default["card-block-skeleton"]}):h.createElement(h.Fragment,null,h.createElement("div",{className:y()(k.default.title,(0,a.Z)({},k.default["title-more"],C))},n.title,h.createElement(i.Z,{droplist:h.createElement(o.Z,{onClickMenuItem:function(e){B(!0),ee(e)}},ne.map((function(e,t){return h.createElement(o.Z.Item,{key:t.toString()},e)}))),trigger:"click",onVisibleChange:x,popupVisible:C},h.createElement(d.Z,{title:ne[$],visible:D,onOk:function(){console.log(ae),"0"===$?Y.validate().then((function(e){G(!0),console.log({res:e});var t={query:"\n        mutation {\n              changeName (eventId:".concat(n.id,',content:"').concat(e.content,'") {\n                id\n                title\n            }\n          }\n        ')};fetch("http://182.92.125.165:8080/graphql",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+T}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){x(!1),G(!1),location.reload()})).catch((function(e){console.log(e)})).finally()})):"1"===$?Y.validate().then((function(e){G(!0),console.log({res:e});var t={query:"\n        mutation {\n              changeMethod (eventId:".concat(n.id,',content:"').concat(e.content,'") {\n                id\n                title\n            }\n          }\n        ')};fetch("http://182.92.125.165:8080/graphql",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+T}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){x(!1),G(!1),location.reload()})).catch((function(e){console.log(e)})).finally()})):Y.validate().then((function(e){G(!0);var t=Number(e.content.toString()),a={query:"\n        mutation {\n              changeValue (eventId:".concat(n.id,",content:").concat(t,") {\n                id\n                title\n            }\n          }\n        ")};fetch("http://182.92.125.165:8080/graphql",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer "+T}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){x(!1),G(!1),location.reload()})).catch((function(e){console.log(e)})).finally()}))},confirmLoading:K,onCancel:function(){return B(!1)}},h.createElement(p.Z,Z({},{labelCol:{span:4},wrapperCol:{span:20}},{form:Y,labelCol:{style:{flexBasis:90}},wrapperCol:{style:{flexBasis:"calc(100% - 90px)"}}}),h.createElement(N,{label:"Content",field:"content",rules:[{required:!0}]},h.createElement(f.Z,{placeholder:""})))),h.createElement("div",{className:k.default.more},h.createElement(c.Z,null)))))},h.createElement("div",{className:k.default.content},I?h.createElement(u.Z,{text:{rows:2},animation:!0,className:k.default["card-block-skeleton"]}):h.createElement(s.Z,{column:1,data:[{label:te["cardList.options.method"],value:n.method},{label:te["cardList.options.data"],value:n.inputvalue}]})),h.createElement("div",{className:k.default.extra},h.createElement(h.Fragment,null,h.createElement(g.Z,{requiredPermissions:[{resource:/^menu.events.*/,actions:["read"]}]},h.createElement(m.Z,{type:"primary",style:{marginLeft:"12px"},loading:I,onClick:function(){return M(!0)}},te["cardList.options.qualityInspection"]),h.createElement(d.Z,{title:n.title,visible:R,onOk:function(){return M(!1)},onCancel:function(){return M(!1)}},h.createElement("p",null,"Description: "),h.createElement(S,{placeholder:"Please enter ...",autoSize:{minRows:2,maxRows:6},style:{width:350},defaultValue:ae,readOnly:!0}))),h.createElement(g.Z,{requiredPermissions:[{resource:/^menu.events.*/,actions:["write"]}]},h.createElement(m.Z,{loading:I,onClick:function(){return d.Z.confirm({title:te["cardList.card.confirm"],content:te["cardList.card.delete"],onConfirm:re})}},te["cardList.options.remove"])))))}},63050:function(e,t,n){n.r(t);t.default={"en-US":{"menu.events":"Test Specification","menu.events.card":"Specification Card","cardList.tab.title.all":"All","cardList.tab.title.quality":"Normal Content","cardList.tab.all.placeholder":"all","cardList.tab.quality.placeholder":"Search queue","cardList.tab.service.placeholder":"Search service","cardList.tab.rules.placeholder":"Search rule","cardList.searchInput.placeholder":"Search service","cardList.add.quality":"Create new CCML schema","cardList.options.qualityInspection":"View","cardList.options.remove":"Remove","cardList.options.method":"Method","cardList.options.data":"Data number/choice","cardList.change.name":"Change name","cardList.change.method":"Change method","cardList.change.data":"Change number","cardList.card.confirm":"Confirm","cardList.card.delete":"Do you sure you want to delete?"},"zh-CN":{"menu.events":"\u89c4\u683c\u8bf4\u660e","menu.events.card":"\u89c4\u683c\u8bf4\u660e\u5361\u7247","cardList.tab.title.all":"\u5168\u90e8","cardList.tab.title.quality":"\u5e38\u89c4\u5185\u5bb9","cardList.tab.title.service":"\u670d\u52a1\u5f00\u901a","cardList.tab.title.rules":"\u89c4\u5219\u9884\u7f6e","cardList.tab.all.placeholder":"\u641c\u7d22","cardList.tab.quality.placeholder":"\u641c\u7d22\u961f\u5217","cardList.tab.service.placeholder":"\u641c\u7d22\u670d\u52a1","cardList.tab.rules.placeholder":"\u641c\u7d22\u89c4\u5219","cardList.searchInput.placeholder":"\u641c\u7d22\u670d\u52a1","cardList.add.quality":"\u70b9\u51fb\u521b\u5efa\u65b0\u4e8b\u4ef6","cardList.options.qualityInspection":"\u67e5\u770b","cardList.options.remove":"\u5220\u9664","cardList.options.method":"\u53d6\u503c\u65b9\u6cd5","cardList.options.data":"\u6bcf\u4e2a\u9009\u9879\u7684\u53d6\u503c\u6570","cardList.change.name":"\u4fee\u6539\u540d\u5b57","cardList.change.method":"\u4fee\u6539\u53d6\u503c\u65b9\u6cd5","cardList.change.data":"\u4fee\u6539\u53d6\u503c\u6570"}}},7424:function(e,t,n){var a=n(4519),r=n(18707),l=n(75624),i=n(77084),c=n(34799),o=n(6431),s=function(){return s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)},u=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=l.next()).done;)i.push(a.value)}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return i},d=function(e){return(0,c.kJ)(e)?e.reduce((function(e,t){return e+(t.span||1)}),0):0},m={layout:"horizontal",column:3,tableLayout:"auto"};function f(e){var t,n=(0,a.useContext)(l.E_),f=n.getPrefixCls,p=n.componentConfig,h=n.rtl,v=(0,o.Z)(e,m,null===p||void 0===p?void 0:p.Descriptions),y=v.style,g=v.className,b=v.column,E=v.title,k=v.data,L=v.border,Z=v.labelStyle,N=v.valueStyle,S=v.colon,w=v.layout,C=v.size,x=v.tableLayout,q=f("descriptions"),O=u((0,a.useState)(),2),P=O[0],j=O[1],I=(0,a.useRef)(null);(0,a.useEffect)((function(){return I.current=i.ZP.subscribe((function(e){for(var t=0;t<i.c4.length;t++){var n=i.c4[t];if(e[n]){j(n);break}}})),function(){i.ZP.unsubscribe(I.current)}}),[]);var F=3;(0,c.Kn)(b)&&(F=b[P]||3),(0,c.hj)(b)&&b>0&&(F=b);var z=[];if((0,c.kJ)(k)&&k.length>0&&F){k.forEach((function(e){var t=z[z.length-1],n=d(t);0===n||n===F?z.push([s(s({},e),{span:e.span?e.span>F?F:e.span:1})]):t.push(s(s({},e),{span:e.span?e.span+n>F?F-n:e.span:1}))}));var T=z[z.length-1],_=d(T);_<F&&(T[T.length-1].span=T[T.length-1].span+F-_)}function A(e,t){return"inline-vertical"===w||"inline-horizontal"===w?function(e,t){return a.createElement("tr",{key:t,className:q+"-row"},e.map((function(e,t){var n=e.span>1?{colSpan:e.span}:{};return a.createElement("td",s({key:e.key||t},n,{className:q+"-item"}),a.createElement("div",{className:q+"-item-label-inline",style:Z},e.label,S),a.createElement("div",{className:q+"-item-value-inline",style:N},e.value))})))}(e,t):"vertical"===w?function(e,t){return a.createElement(a.Fragment,{key:t},a.createElement("tr",{className:q+"-row"},e.map((function(e,t){var n=e.span>1?{colSpan:e.span}:{};return a.createElement("td",s({key:(e.key||t)+"_label",className:q+"-item-label"},n,{style:Z}),e.label,S)}))),a.createElement("tr",{className:q+"-row"},e.map((function(e,t){var n=e.span>1?{colSpan:e.span}:{};return a.createElement("td",s({key:(e.key||t)+"_value",className:q+"-item-value"},n,{style:N}),e.value)}))))}(e,t):function(e,t){return a.createElement("tr",{key:t,className:q+"-row"},e.map((function(e,t){var n=e.span>1?{colSpan:2*e.span-1}:{};return a.createElement(a.Fragment,{key:e.key||t},a.createElement("td",{className:q+"-item-label",style:Z},e.label,S),a.createElement("td",s({className:q+"-item-value"},n,{style:N}),e.value))})))}(e,t)}var D=(0,r.Z)(q,((t={})[q+"-border"]=L,t[q+"-layout-"+w]=w,t[q+"-size-"+C]=C,t[q+"-table-layout-fixed"]="fixed"===x,t[q+"-rtl"]=h,t),g);return a.createElement("div",{className:D,style:y},E&&a.createElement("div",{className:q+"-title"},E),a.createElement("div",{className:q+"-body"},a.createElement("table",{className:q+"-table",cellPadding:0,cellSpacing:0},a.createElement("tbody",null,z.map((function(e,t){return A(e,t)}))))))}f.displayName="Descriptions",t.Z=f},79606:function(e,t,n){n(75009)},19050:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(4519),r=n(18707),l=n(34799);function i(e){var t,n=e.style,i=e.width,c=void 0===i?"60%":i,o=e.rows,s=void 0===o?3:o,u=e.className,d=e.prefixCls,m=(0,r.Z)(d+"-text",u),f=[];for(var p=0;p<s;p++)f.push(a.createElement("li",{className:d+"-text-row",key:p,style:{width:(t=p,(0,l.kJ)(c)?c[t]:s-1===t?c:void 0)}}));return a.createElement("ul",{className:m,style:n},f)}function c(e){var t,n=e.style,l=e.shape,i=void 0===l?"square":l,c=e.size,o=e.position,s=void 0===o?"left":o,u=e.className,d=e.prefixCls,m=(0,r.Z)(d+"-image",((t={})[d+"-image-"+s]=s,t[d+"-image-"+i]=i,t[d+"-image-"+c]=c,t),u);return a.createElement("div",{className:m,style:n})}var o=n(75624),s=n(6431),u=n(9485),d=function(){return d=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},d.apply(this,arguments)};function m(e){return(0,l.Kn)(e)?e:{}}var f={text:!0,loading:!0};var p=(0,a.forwardRef)((function(e,t){var n,l=(0,a.useContext)(o.E_),p=l.getPrefixCls,h=l.componentConfig,v=l.rtl,y=(0,s.Z)(e,f,null===h||void 0===h?void 0:h.Skeleton),g=y.style,b=y.className,E=y.animation,k=y.loading,L=y.image,Z=y.text,N=y.children,S=m(L),w=m(Z),C=p("skeleton"),x=(0,r.Z)(C,((n={})[C+"-animate"]=E,n[C+"-rtl"]=v,n),b);function q(){return L&&a.createElement("div",{className:C+"-header"},a.createElement(c,d({prefixCls:C},S)))}return a.createElement(a.Fragment,null,k?a.createElement("div",d({},(0,u.m)(y),{className:x,style:g,ref:t}),"right"!==S.position&&q(),Z&&a.createElement("div",{className:C+"-content"},a.createElement(i,d({prefixCls:C},w))),"right"===S.position&&q()):N)}));p.displayName="Skeleton";var h=p},63915:function(e,t,n){n(75009)},69394:function(e,t,n){n.r(t),t.default={container:"container--iGu_B","card-content":"card-content--TajD5","single-content":"single-content--aSYci","card-block":"card-block--imDjI",title:"title--ks7nZ",icon:"icon--bB6sy",status:"status--k9akc",more:"more--e9qAy","title-more":"title-more--_kHPp",time:"time--_Piqf",content:"content--URShE",extra:"extra--kDct3","card-block-skeleton":"card-block-skeleton--VV1RS","add-card":"add-card--oAFZg","add-icon":"add-icon--OMi4s",description:"description--ZWxtD","service-card":"service-card--azHbk","rules-card":"rules-card--_vwww"}}}]);
//# sourceMappingURL=6583.1115b6bb.chunk.js.map