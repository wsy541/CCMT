"use strict";(self.webpackChunkarco_design_pro=self.webpackChunkarco_design_pro||[]).push([[2195,8581,842],{24328:function(e,t,a){a.r(t);var n=a(4942),r=(a(15861),a(29439)),i=(a(87757),a(47872),a(82357)),c=(a(36287),a(73575)),o=a(23116),l=(a(70198),a(51993)),s=(a(4316),a(30894)),d=(a(63915),a(19050)),u=a(23743),m=(a(63793),a(79721)),f=a(94922),p=(a(35749),a(29413)),h=(a(56710),a(86721)),v=(a(2373),a(39230)),g=(a(74450),a(91862)),b=a(4519),y=a(43270),L=a.n(y),E=a(5001),N=a(98581),C=a(50842),Z=a(82399);function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},w.apply(this,arguments)}var x=g.Z.Paragraph,O=v.Z.Item;t.default=function(e){var t=e.card,a=void 0===t?{}:t,g=(0,b.useState)(!1),y=(0,r.Z)(g,2),S=y[0],k=y[1],j=(0,b.useState)(a.status),P=(0,r.Z)(j,2),q=P[0],z=P[1],I=(0,b.useState)(e.loading),R=(0,r.Z)(I,2),A=R[0],_=R[1],M=(0,b.useContext)(Z.k),T=(M.userId,M.setUserId,M.token),D=(M.setToken,(0,b.useState)(!1)),B=(0,r.Z)(D,2),F=B[0],G=B[1],J=(0,b.useState)(!1),U=(0,r.Z)(J,2),K=(U[0],U[1],(0,b.useState)(!1)),V=(0,r.Z)(K,2),Q=V[0],W=V[1],H=v.Z.useForm(),X=(0,r.Z)(H,1)[0],Y=(0,b.useState)("0"),$=(0,r.Z)(Y,2),ee=$[0],te=$[1],ae=(0,E.Z)(N.default),ne=[ae["cardList.change.name"],ae["cardList.change.description"],ae["cardList.change.constant"]],re=a.description.replaceAll(":",":\n").replaceAll("]","]\n");(0,b.useEffect)((function(){_(e.loading)}),[e.loading]),(0,b.useEffect)((function(){a.status!==q&&z(a.status)}),[a.status]);var ie=L()(C.default["card-block"],C.default["service-card"]);function ce(){var e={query:"\n        mutation {\n              deleteMr (mrId:".concat(a.id,") \n          }\n        ")};fetch("http://182.92.125.165:8080/graphql",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer "+T}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){})).catch((function(e){console.log(e)})).finally()}return b.createElement(i.Z,{bordered:!0,className:ie,size:"small",title:A?b.createElement(d.Z,{animation:!0,text:{rows:1,width:["100%"]},style:{width:"120px",height:"24px"},className:C.default["card-block-skeleton"]}):b.createElement(b.Fragment,null,b.createElement("div",{className:L()(C.default.title,(0,n.Z)({},C.default["title-more"],S))},a.title,function(){if(q)return b.createElement(m.Z,{color:"green",icon:b.createElement(f.Z,null),className:C.default.status,size:"small"},ae["cardList.tag.activated"]);switch(q){case 1:return b.createElement(m.Z,{color:"green",icon:b.createElement(f.Z,null),className:C.default.status,size:"small"},ae["cardList.tag.opened"]);case 2:return b.createElement(m.Z,{color:"red",icon:b.createElement(u.Z,null),className:C.default.status,size:"small"},ae["cardList.tag.expired"]);default:return null}}(),b.createElement(c.Z,{droplist:b.createElement(s.Z,{onClickMenuItem:function(e){G(!0),te(e)}},ne.map((function(e,t){return b.createElement(s.Z.Item,{key:t.toString()},e)}))),trigger:"click",onVisibleChange:k,popupVisible:S},b.createElement(h.Z,{title:ne[ee],visible:F,onOk:function(){console.log(re),"0"===ee?X.validate().then((function(e){W(!0),console.log({res:e});var t={query:"\n        mutation {\n              changeMrName (mrId:".concat(a.id,',content:"').concat(e.content,'") {\n                id\n                title\n            }\n          }\n        ')};fetch("http://182.92.125.165:8080/graphql",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+T}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){k(!1),W(!1),location.reload()})).catch((function(e){console.log(e)})).finally()})):"1"===ee?X.validate().then((function(e){W(!0),console.log({res:e});var t={query:"\n        mutation {\n              changeMrDescription (mrId:".concat(a.id,',content:"').concat(e.content,'") {\n                id\n                title\n            }\n          }\n        ')};fetch("http://182.92.125.165:8080/graphql",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+T}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){k(!1),W(!1),location.reload()})).catch((function(e){console.log(e)})).finally()})):X.validate().then((function(e){W(!0);var t=Number(e.content.toString()),n={query:"\n        mutation {\n              changeMrDescription (eventId:".concat(a.id,",content:").concat(t,") {\n                id\n                title\n            }\n          }\n        ")};fetch("http://182.92.125.165:8080/graphql",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:"Bearer "+T}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){k(!1),W(!1),location.reload()})).catch((function(e){console.log(e)})).finally()}))},confirmLoading:Q,onCancel:function(){return G(!1)}},b.createElement(v.Z,w({},{labelCol:{span:4},wrapperCol:{span:20}},{form:X,labelCol:{style:{flexBasis:90}},wrapperCol:{style:{flexBasis:"calc(100% - 90px)"}}}),b.createElement(O,{label:"Content",field:"content",rules:[{required:!0}]},b.createElement(l.Z,{placeholder:""})))),b.createElement("div",{className:C.default.more},b.createElement(o.Z,null)))))},b.createElement("div",{className:C.default.content},A?b.createElement(d.Z,{text:{rows:3},animation:!0,className:C.default["card-block-skeleton"]}):b.createElement(x,null,a.description.toString().substring(0,110))),b.createElement("div",{className:C.default.extra},b.createElement(p.Z,{loading:A,onClick:function(){return h.Z.confirm({title:ae["cardList.card.confirm"],content:ae["cardList.card.delete"],onConfirm:ce})}},ae["cardList.options.remove"])))}},98581:function(e,t,a){a.r(t);t.default={"en-US":{"menu.materelation":"MR List","menu.materelation.card":"Card List","cardList.tab.title.all":"All","cardList.tab.title.quality":"Content quality","cardList.tab.title.service":"Service opening","cardList.tab.title.rules":"Rule presets","cardList.tab.all.placeholder":"Search","cardList.tab.quality.placeholder":"Search queue","cardList.tab.service.placeholder":"Search service","cardList.tab.rules.placeholder":"Search rule","cardList.searchInput.placeholder":"Search service","cardList.add.quality":"Create new MR","cardList.enable":"Enable","cardList.disable":"Disable","cardList.action":"action","cardList.detail":"Detail","cardList.tab.title.announcement":"Recent Announcement","cardList.announcement.noData":"No announcement","cardList.statistic.enable":"Enable","cardList.statistic.disable":"Disable","cardList.statistic.applicationNum":"Applications","cardList.options.qualityInspection":"Quality inspection","cardList.options.remove":"Remove","cardList.options.cancel":"Cancel","cardList.change.name":"Change Name","cardList.change.description":"Change Description","cardList.change.constant":"Change Constant","cardList.options.subscribe":"Subscribe","cardList.options.renewal":"Renewal","cardList.tag.activated":"Activated","cardList.tag.opened":"Already Opened","cardList.tag.expired":"Expired","cardList.card.confirm":"Confirm","cardList.card.delete":"Do you sure you want to delete?"},"zh-CN":{"menu.materelation":"\u8715\u53d8\u5173\u7cfb","menu.materelation.card":"\u8715\u53d8\u5173\u7cfb\u5361\u7247","cardList.tab.title.all":"\u5168\u90e8","cardList.tab.title.quality":"\u5185\u5bb9\u8d28\u68c0","cardList.tab.title.service":"\u670d\u52a1\u5f00\u901a","cardList.tab.title.rules":"\u89c4\u5219\u9884\u7f6e","cardList.tab.all.placeholder":"\u641c\u7d22","cardList.tab.quality.placeholder":"\u641c\u7d22\u961f\u5217","cardList.tab.service.placeholder":"\u641c\u7d22\u670d\u52a1","cardList.tab.rules.placeholder":"\u641c\u7d22\u89c4\u5219","cardList.searchInput.placeholder":"\u641c\u7d22\u670d\u52a1","cardList.add.quality":"\u70b9\u51fb\u521b\u5efa\u8715\u53d8\u5173\u7cfb","cardList.enable":"\u542f\u7528","cardList.disable":"\u7981\u7528","cardList.action":"\u64cd\u4f5c","cardList.detail":"\u8be6\u7ec6\u4fe1\u606f","cardList.tab.title.announcement":"\u6700\u8fd1\u516c\u544a","cardList.announcement.noData":"\u6682\u65e0\u516c\u544a","cardList.statistic.enable":"\u5df2\u542f\u7528","cardList.statistic.disable":"\u672a\u542f\u7528","cardList.statistic.applicationNum":"\u5e94\u7528\u6570","cardList.options.qualityInspection":"\u8d28\u68c0","cardList.options.remove":"\u5220\u9664","cardList.options.cancel":"\u53d6\u6d88\u5f00\u901a","cardList.options.subscribe":"\u5f00\u901a\u670d\u52a1","cardList.options.renewal":"\u7eed\u7ea6\u670d\u52a1","cardList.tag.activated":"\u5df2\u542f\u7528","cardList.tag.opened":"\u5df2\u5f00\u901a","cardList.tag.expired":"\u5df2\u8fc7\u671f","cardList.change.name":"\u66f4\u6362\u540d\u79f0","cardList.change.description":"\u66f4\u6362\u5185\u5bb9","cardList.change.constant":"\u66f4\u6362\u53c2\u6570"}}},82357:function(e,t,a){a.d(t,{Z:function(){return b}});var n=a(4519),r=a(18707),i=a(75624),c=function(){return c=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)},o=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};var l=n.forwardRef((function(e,t){var a,l=e.className,s=e.title,d=e.avatar,u=e.description,m=e.actionList,f=o(e,["className","title","avatar","description","actionList"]),p=(0,(0,n.useContext)(i.E_).getPrefixCls)("card-meta"),h=(0,r.Z)(p,l);return n.createElement("div",c({},f,{ref:t,className:h}),s||u?n.createElement("div",{className:p+"-content"},s&&n.createElement("div",{className:p+"-title"},s),u&&n.createElement("div",{className:p+"-description"},u)):null,d||m?n.createElement("div",{className:(0,r.Z)(p+"-footer ",(a={},a[p+"-footer-only-actions"]=!d,a))},d?n.createElement("div",{className:p+"-avatar"},d):null,m):null)}));l.displayName="CardMeta";var s=l;var d=n.forwardRef((function(e,t){var a,c=e.children,o=e.style,l=e.className,s=e.hoverable,d=(0,(0,n.useContext)(i.E_).getPrefixCls)("card-grid");return n.createElement("div",{ref:t,style:o,className:(0,r.Z)(d,(a={},a[d+"-hoverable"]=s,a),l)},c)}));d.displayName="CardGrid";var u=d,m=a(120),f=a(6431),p=function(){return p=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},p.apply(this,arguments)},h=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},v={size:"default",bordered:!0};var g=n.forwardRef((function(e,t){var a,c,o=(0,n.useContext)(i.E_),l=o.getPrefixCls,d=o.loadingElement,g=o.componentConfig,b=o.rtl,y=(0,f.Z)(e,v,null===g||void 0===g?void 0:g.Card),L=y.className,E=y.children,N=y.bordered,C=y.loading,Z=y.hoverable,w=y.size,x=y.title,O=y.extra,S=y.cover,k=y.actions,j=y.headerStyle,P=y.bodyStyle,q=h(y,["className","children","bordered","loading","hoverable","size","title","extra","cover","actions","headerStyle","bodyStyle"]),z=l("card"),I=k&&k.length?n.createElement("div",{className:z+"-actions"},n.createElement("div",{className:z+"-actions-right"},k.map((function(e,t){return n.createElement("span",{key:"action-"+t,className:z+"-actions-item"},e)})))):null,R=!1,A=!1,_=n.Children.map(E,(function(e){if(e&&e.type)if(e.type===u)R=!0;else if(e.type===s)return A=!0,n.cloneElement(e,{actionList:I});return e}));return n.createElement("div",p({},q,{ref:t,className:(0,r.Z)(z,z+"-size-"+w,(a={},a[z+"-loading"]=C,a[z+"-bordered"]=N,a[z+"-hoverable"]=Z,a[z+"-contain-grid"]=R,a[z+"-rtl"]=b,a),L)}),x||O?n.createElement("div",{className:(0,r.Z)(z+"-header",(c={},c[z+"-header-no-title"]=!x,c)),style:j},x&&n.createElement("div",{className:z+"-header-title"},x),O&&n.createElement("div",{className:z+"-header-extra"},O)):null,S?n.createElement("div",{className:z+"-cover"},S):null,n.createElement("div",{className:z+"-body",style:P},C?d||n.createElement(m.Z,null):_,A?null:I))}));g.Meta=s,g.Grid=u,g.displayName="Card";var b=g},47872:function(e,t,a){a(75009),a(49214)},19050:function(e,t,a){a.d(t,{Z:function(){return h}});var n=a(4519),r=a(18707),i=a(34799);function c(e){var t,a=e.style,c=e.width,o=void 0===c?"60%":c,l=e.rows,s=void 0===l?3:l,d=e.className,u=e.prefixCls,m=(0,r.Z)(u+"-text",d),f=[];for(var p=0;p<s;p++)f.push(n.createElement("li",{className:u+"-text-row",key:p,style:{width:(t=p,(0,i.kJ)(o)?o[t]:s-1===t?o:void 0)}}));return n.createElement("ul",{className:m,style:a},f)}function o(e){var t,a=e.style,i=e.shape,c=void 0===i?"square":i,o=e.size,l=e.position,s=void 0===l?"left":l,d=e.className,u=e.prefixCls,m=(0,r.Z)(u+"-image",((t={})[u+"-image-"+s]=s,t[u+"-image-"+c]=c,t[u+"-image-"+o]=o,t),d);return n.createElement("div",{className:m,style:a})}var l=a(75624),s=a(6431),d=a(9485),u=function(){return u=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)};function m(e){return(0,i.Kn)(e)?e:{}}var f={text:!0,loading:!0};var p=(0,n.forwardRef)((function(e,t){var a,i=(0,n.useContext)(l.E_),p=i.getPrefixCls,h=i.componentConfig,v=i.rtl,g=(0,s.Z)(e,f,null===h||void 0===h?void 0:h.Skeleton),b=g.style,y=g.className,L=g.animation,E=g.loading,N=g.image,C=g.text,Z=g.children,w=m(N),x=m(C),O=p("skeleton"),S=(0,r.Z)(O,((a={})[O+"-animate"]=L,a[O+"-rtl"]=v,a),y);function k(){return N&&n.createElement("div",{className:O+"-header"},n.createElement(o,u({prefixCls:O},w)))}return n.createElement(n.Fragment,null,E?n.createElement("div",u({},(0,d.m)(g),{className:S,style:b,ref:t}),"right"!==w.position&&k(),C&&n.createElement("div",{className:O+"-content"},n.createElement(c,u({prefixCls:O},x))),"right"===w.position&&k()):Z)}));p.displayName="Skeleton";var h=p},63915:function(e,t,a){a(75009)},50842:function(e,t,a){a.r(t),t.default={container:"container--m9ca6","card-content":"card-content--zpGKo","single-content":"single-content--bbv_j","card-block":"card-block--aRn1U",title:"title--gbP4_",icon:"icon--XR5wW",status:"status--EFoh0",more:"more--NlsKt","title-more":"title-more--iS36C",time:"time--bEt_S",content:"content--GOamd",extra:"extra--xxh1v","card-block-skeleton":"card-block-skeleton--oLzBT","add-card":"add-card--Gar0H","add-icon":"add-icon--sQZ12",description:"description--ICW60","service-card":"service-card--h9Rak","rules-card":"rules-card--u5RcN","list-demo-actions-icon":"list-demo-actions-icon--e4AMp","list-demo-actions-button":"list-demo-actions-button--GzILV","list-demo-actions":"list-demo-actions--gSU76","arco-list-item-action":"arco-list-item-action--Buq_g"}},15861:function(e,t,a){function n(e,t,a,n,r,i,c){try{var o=e[i](c),l=o.value}catch(s){return void a(s)}o.done?t(l):Promise.resolve(l).then(n,r)}function r(e){return function(){var t=this,a=arguments;return new Promise((function(r,i){var c=e.apply(t,a);function o(e){n(c,r,i,o,l,"next",e)}function l(e){n(c,r,i,o,l,"throw",e)}o(void 0)}))}}a.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=2195.82043ba0.chunk.js.map