"use strict";(self.webpackChunkarco_design_pro=self.webpackChunkarco_design_pro||[]).push([[4411,5031,3654,2036,2359],{8840:function(e,t,r){r.r(t),r.d(t,{HoverProvider:function(){return c}});var n=r(15671),o=r(43144),a=r(96523),s=r(11422),i=r(28438),c=function(){function e(){(0,n.Z)(this,e)}return(0,o.Z)(e,[{key:"provideHover",value:function(e,t){var r=e.getValue(),n=(0,i.getAST)(r||""),o=new l(t);a.u.DEFAULT.walk(o,n);var s=o.result;return"number"===s.type?{contents:[{value:"\u6570\u5b57".concat(s.name)}],range:s.range}:{contents:[]}}}]),e}(),l=function(){function e(t){(0,n.Z)(this,e),this.position=t}return(0,o.Z)(e,[{key:"enterNumber",value:function(e){if(!this.result){console.log(e);var t=function(e){var t,r=e.line,n=e.charPositionInLine+1,o=(null===(t=e.text)||void 0===t?void 0:t.length)||1;return new s.Range(r,n,r,n+o)}(e.start);s.Range.containsPosition(t,this.position)&&(this.result={range:t,type:"number",name:e.start.text})}}},{key:"visitErrorNode",value:function(){}}]),e}()},75031:function(e,t,r){r.r(t),r.d(t,{Linter:function(){return d}});var n=r(15861),o=r(15671),a=r(43144),s=r(87757),i=r.n(s),c=r(11422),l=r(31740),u=r(32048),d=function(){function e(t){var r=this;(0,o.Z)(this,e),this.disposables=[],this.listener=Object.create(null),this.languageId=t;var n=function(e){var t,n;if(((null===(t=e.getModeId)||void 0===t?void 0:t.call(e))||(null===(n=e.getLanguageId)||void 0===n?void 0:n.call(e)))===r.languageId){var o=(0,u.debounce)(r.doValidate,500);r.listener[e.uri.toString()]=e.onDidChangeContent((function(){o(e)})),r.doValidate(e)}},a=function(e){c.editor.setModelMarkers(e,"ruleLint",[]);var t=e.uri.toString(),n=r.listener[t];n&&(n.dispose(),delete r.listener[t])};this.disposables.push(c.editor.onDidCreateModel(n)),this.disposables.push(c.editor.onWillDisposeModel(a)),this.disposables.push(c.editor.onDidChangeModelLanguage((function(e){a(e.model),n(e.model)}))),this.disposables.push({dispose:function(){for(var e in r.listener)r.listener[e].dispose()}}),c.editor.getModels().forEach(n)}return(0,a.Z)(e,[{key:"dispose",value:function(){this.disposables.forEach((function(e){return null===e||void 0===e?void 0:e.dispose()})),this.disposables=[]}},{key:"doValidate",value:function(){var e=(0,n.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.validate)(t);case 2:(r=e.sent)&&c.editor.setModelMarkers(t,"ruleLint",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},33654:function(e,t,r){r.r(t),r.d(t,{TokensProviders:function(){return c}});var n=r(15671),o=r(43144),a=r(28438);function s(e){var t=function(e){var t=(0,a.createLexer)(e),r=[];t.removeErrorListeners(),t.addErrorListener({syntaxError:function(e,t,n,o){r.push(o)}});var n=t.getAllTokens();console.log(n);var o=n.map((function(e){var r=t.ruleNames[e.type-1];return{scopes:a.TokenMap[r]||a.TokenMap.UnexpectedCharacter,startIndex:e.charPositionInLine}}));return r.forEach((function(e){return o.push({scopes:"error",startIndex:e})})),o}(e);return{tokens:t,endState:new i}}var i=function(){function e(){(0,n.Z)(this,e)}return(0,o.Z)(e,[{key:"clone",value:function(){return new e}},{key:"equals",value:function(e){return!0}}]),e}(),c=function(){function e(){(0,n.Z)(this,e)}return(0,o.Z)(e,[{key:"tokenize",value:function(e,t){return s(e)}},{key:"getInitialState",value:function(){return new i}}]),e}()},80423:function(e,t,r){r.r(t);var n=r(15861),o=r(29439),a=r(87757),s=r.n(a),i=(r(47872),r(82357)),c=(r(46098),r(14343)),l=(r(58186),r(3024)),u=r(9677),d=(r(35749),r(29413)),m=r(76188),p=(r(44776),r(63545)),h=(r(4489),r(80325)),f=(r(24896),r(85745)),v=(r(70198),r(51993)),F=(r(37801),r(73458)),g=(r(2373),r(39230)),b=(r(74450),r(91862)),y=r(4519),k=r(5001),E=r(52036),I=r(92359),Z=r(82399),w=r(19167),C=r(31304),x=b.Z.Title;b.Z.Paragraph;t.default=function(){var e=(0,k.Z)(E.default),t=(0,y.useState)(1),r=(0,o.Z)(t,2),a=r[0],b=r[1],S=(0,y.useContext)(Z.k),L=(S.userId,S.setUserId,S.token),P=(S.setToken,g.Z.useForm()),q=(0,o.Z)(P,1)[0],T=(0,y.useState)(!0),M=(0,o.Z)(T,2),N=M[0],A=M[1],z=(0,y.useState)(900),O=(0,o.Z)(z,2),V=O[0],D=O[1],R=(0,y.useState)(400),U=(0,o.Z)(R,2),W=U[0],j=U[1],B=(0,y.useState)("//Please enter your code..."),H=(0,o.Z)(B,2),_=H[0],J=H[1],K=function(){var e=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.validate();case 3:b(a+1),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return y.createElement("div",{className:I.default.container},y.createElement(i.Z,null,y.createElement(x,{heading:5},e["stepForm.desc.basicInfo"]),y.createElement("div",{className:I.default.wrapper},y.createElement(F.Z,{current:a,lineless:!0},y.createElement(F.Z.Step,{title:e["stepForm.title.basicInfo"],description:e["stepForm.desc.basicInfo"]}),y.createElement(F.Z.Step,{title:e["stepForm.title.channel"],description:e["stepForm.desc.channel"]}),y.createElement(F.Z.Step,{title:e["stepForm.title.created"],description:e["stepForm.desc.created"]})),y.createElement(g.Z,{form:q,className:I.default.form},1===a&&y.createElement(g.Z.Item,{noStyle:!0},y.createElement(g.Z.Item,{label:e["stepForm.basicInfo.name"],required:!0,field:"basic.name",rules:[{required:!0,message:e["stepForm.basicInfo.name.required"]},{validator:function(t,r){/^[\u4e00-\u9fa5a-zA-Z0-9]{1,20}$/g.test(t)||r(e["stepForm.basicInfo.name.placeholder"])}}]},y.createElement(v.Z,{placeholder:e["stepForm.basicInfo.name.placeholder"]})),y.createElement(g.Z.Item,{label:e["stepForm.basicInfo.channelType"],required:!0,initialValue:"boundary",field:"basic.channelType",rules:[{required:!0,message:e["stepForm.basicInfo.channelType.required"]}]},y.createElement(f.Z,null,y.createElement(f.Z.Option,{value:"boundary"},"boundary"),y.createElement(f.Z.Option,{value:"random"},"random"))),y.createElement(g.Z.Item,{label:e["stepForm.basicInfo.link"],required:!0,field:"basic.number",rules:[{required:!0}]},y.createElement(v.Z,{type:"number",placeholder:e["stepForm.basicInfo.link.placeholder"]}))),2===a&&y.createElement("div",null,y.createElement(g.Z.Item,{noStyle:!0},y.createElement(g.Z.Item,{label:e["stepForm.channel.remind"],required:!0,initialValue:!0,field:"channel.remind",triggerPropName:"checked",rules:[{required:!0}]},y.createElement(h.Z,null)),y.createElement(g.Z.Item,{label:e["stepForm.channel.content"],required:!0,field:"channel.content",rules:[{required:!0,message:e["stepForm.channel.content.required"]}]})),y.createElement(p.Z,{directions:["right","bottom"],style:{minWidth:900,maxWidth:"100%",border:"1px solid var(--color-border)"},width:V,height:W,onMoving:function(e,t){var r=t.width,n=t.height;D(r),j(n)}},y.createElement(w.ZP,{value:_,onChange:function(e,t){J(e)},width:V,height:W,options:{fontSize:20},language:"calc-lan",editorWillMount:function(e){e.editor.defineTheme("my-theme",{base:"vs",inherit:!0,colors:{},rules:[{token:"operator",foreground:"#005c05"},{token:"keyword",foreground:"#178ff3"},{token:"number",foreground:"#cc00ff"},{token:"comment",foreground:"#005ca0"},{token:"error",fontStyle:"bold",foreground:"#ff0000"}]}),(0,C.registerCalc)(e)},theme:"my-theme"}))),3!==a?y.createElement(g.Z.Item,{label:" "},y.createElement(l.Z,null,2===a&&y.createElement(d.Z,{size:"large",icon:y.createElement(m.Z,null),onClick:function(){return b(a-1)}},e["stepForm.prev"]),3!==a&&y.createElement(d.Z,{type:"primary",size:"large",icon:y.createElement(u.Z,null),onClick:K},e["stepForm.next"]))):y.createElement(g.Z.Item,{noStyle:!0},y.createElement(c.Z,{status:"success",title:e["stepForm.created.success.title"],subTitle:e["stepForm.created.success.desc"],extra:[y.createElement(d.Z,{key:"reset",style:{marginRight:16},onClick:function(){var e=q.getFields();console.log(e),q.setFields(e),b(1)}},e["stepForm.created.success.view"]),y.createElement(d.Z,{key:"again",type:"primary",onClick:function(){q.resetFields(),J("//Please enter your code..."),b(1),A(!0)}},e["stepForm.created.success.again"])]})))),3===a&&N&&function(){A(!1);var e=q.getFields();_=(_=(_=_.toString().replaceAll("\n"," ")).toString().replaceAll("\r"," ")).toString().replaceAll("//Please enter your code..."," "),console.log(_);var t={query:'\n        mutation {\n            createEvent(eventInput: {title: "'.concat(e.basic.name,'", inputvalue: ').concat(e.basic.number,', description: "').concat(_,'", method: "').concat(e.basic.channelType,'"}) {\n                id\n                title\n                description\n                method\n                inputvalue\n            }\n        }\n        ')};fetch("http://182.92.125.165:8080/graphql",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+L}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){console.log({resData:t}),e.channel.remind&&function(e){var t={query:'\n        mutation {\n          bookEvent(eventId: "'.concat(e,'") {\n              id\n          }\n        }\n        ')};fetch("http://182.92.125.165:8080/graphql",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+L}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}(t.data.createEvent.id)})).catch((function(e){console.log(e)})).finally((function(){return A(!1)}))}()))}},52036:function(e,t,r){r.r(t);t.default={"en-US":{"menu.events":"Test Specification","menu.events.add":"Add Specification","stepForm.title":"Create a channel form","stepForm.next":"Next","stepForm.prev":"Prev","stepForm.title.basicInfo":"Basic Information","stepForm.desc.basicInfo":"Create event channel","stepForm.title.channel":"Channel Information","stepForm.desc.channel":"Enter detailed channel content","stepForm.title.created":"Complete creation","stepForm.desc.created":"Created successfully","stepForm.basicInfo.name":"Event name","stepForm.basicInfo.name.required":"Please enter the event name","stepForm.basicInfo.name.placeholder":"Enter Chinese characters, letters or numbers, up to 20 characters","stepForm.basicInfo.channelType":"Method","stepForm.basicInfo.channelType.required":"Please select the method","stepForm.basicInfo.time":"Promotion time","stepForm.basicInfo.time.required":"Please select the promotion time","stepForm.basicInfo.link":"Number","stepForm.basicInfo.link.placeholder":"Please enter the value","stepForm.basicInfo.link.tips":"Such as Android or iOS download address, intermediate redirect URL, the URL must start with http:// or https://","stepForm.channel.source":"Advertising source","stepForm.channel.source.required":"Please enter the advertising source","stepForm.channel.source.placeholder":"Referral address: sohu, sina","stepForm.channel.media":"Advertising medium","stepForm.channel.media.required":"Please enter the advertising medium","stepForm.channel.media.placeholder":"Marketing media: cpc, bannner, edm","stepForm.channel.keywords":"Key words","stepForm.channel.remind":"Create data","stepForm.channel.content":"CCML","stepForm.channel.content.required":"Please enter the schema","stepForm.channel.content.placeholder":"Please enter the description of the schema","stepForm.created.success.title":"Created successfully","stepForm.created.success.desc":"Form created successfully","stepForm.created.success.view":"View form","stepForm.created.success.again":"Create again","stepForm.created.extra.title":"Channel form description","stepForm.created.extra.desc":"Enter the MR website to see more details. ","stepForm.created.extra.detail":"Details"},"zh-CN":{"menu.events":"\u89c4\u683c\u8bf4\u660e","menu.events.add":"\u6dfb\u52a0\u89c4\u683c\u8bf4\u660e","stepForm.title":"\u521b\u5efa\u89c4\u683c\u8bf4\u660e","stepForm.next":"\u4e0b\u4e00\u6b65","stepForm.prev":"\u4e0a\u4e00\u6b65","stepForm.title.basicInfo":"\u57fa\u672c\u4fe1\u606f","stepForm.desc.basicInfo":"\u521b\u5efa\u89c4\u683c\u8bf4\u660e","stepForm.title.channel":"\u8f93\u5165CCML","stepForm.desc.channel":"\u8f93\u5165\u8be6\u7ec6\u7684\u89c4\u683c\u8bf4\u660e\u5185\u5bb9","stepForm.title.created":"\u5b8c\u6210\u521b\u5efa","stepForm.desc.created":"\u521b\u5efa\u6210\u529f","stepForm.basicInfo.name":"\u6d3b\u52a8\u540d\u79f0","stepForm.basicInfo.name.required":"\u8bf7\u8f93\u5165\u6d3b\u52a8\u540d\u79f0","stepForm.basicInfo.name.placeholder":"\u8f93\u5165\u6c49\u5b57\u3001\u5b57\u6bcd\u6216\u6570\u5b57\uff0c\u6700\u591a20\u5b57\u7b26","stepForm.basicInfo.channelType":"\u53d6\u503c\u65b9\u6cd5","stepForm.basicInfo.channelType.required":"\u8bf7\u9009\u62e9\u53d6\u503c\u65b9\u6cd5","stepForm.basicInfo.time":"\u63a8\u5e7f\u65f6\u95f4","stepForm.basicInfo.time.required":"\u8bf7\u9009\u62e9\u63a8\u5e7f\u65f6\u95f4","stepForm.basicInfo.link":"\u6d4b\u8bd5\u6570\u636e\u6570/\u6d4b\u8bd5\u5e27","stepForm.basicInfo.link.placeholder":"\u8bf7\u8f93\u5165\u5e0c\u671b\u6bcf\u4e2a\u6d4b\u8bd5\u5e27\u751f\u6210\u7684\u6d4b\u8bd5\u6570\u636e\u6570\u91cf","stepForm.basicInfo.link.tips":"\u5982 Android \u6216 iOS \u7684\u4e0b\u8f7d\u5730\u5740\u3001\u4e2d\u95f4\u8df3\u8f6cURL\uff0c\u7f51\u5740\u5fc5\u987b\u4ee5 http:// \u6216 https:// \u5f00\u5934","stepForm.channel.source":"\u5e7f\u544a\u6765\u6e90","stepForm.channel.source.required":"\u8bf7\u8f93\u5165\u5e7f\u544a\u6765\u6e90","stepForm.channel.source.placeholder":"\u5f15\u8350\u6765\u6e90\u5730\u5740\uff1asohu\u3001sina","stepForm.channel.media":"\u5e7f\u544a\u5a92\u4ecb","stepForm.channel.media.required":"\u8bf7\u8f93\u5165\u5e7f\u544a\u5a92\u4ecb","stepForm.channel.media.placeholder":"\u8425\u9500\u5a92\u4ecb\uff1acpc\u3001bannner\u3001edm","stepForm.channel.keywords":"\u5173\u952e\u8bcd","stepForm.channel.remind":"\u751f\u6210\u539f\u59cb\u6570\u636e","stepForm.channel.content":"\u89c4\u683c\u8bf4\u660e\u5185\u5bb9","stepForm.channel.content.required":"\u8bf7\u8f93\u5165\u5e7f\u544a\u5185\u5bb9","stepForm.channel.content.placeholder":"\u8bf7\u8f93\u5165\u5e7f\u544a\u5185\u5bb9\u4ecb\u7ecd\uff0c\u6700\u591a\u4e0d\u8d85\u8fc7200\u5b57","stepForm.created.success.title":"\u521b\u5efa\u6210\u529f","stepForm.created.success.desc":"\u89c4\u683c\u8bf4\u660e\u521b\u5efa\u6210\u529f","stepForm.created.success.view":"\u67e5\u770b\u4fe1\u606f","stepForm.created.success.again":"\u518d\u6b21\u521b\u5efa","stepForm.created.extra.title":"\u6e20\u9053\u8868\u5355\u8bf4\u660e","stepForm.created.extra.desc":"\u53ef\u8fdb\u5165\u8715\u53d8\u5173\u7cfb\u9875\u9762\uff0c\u67e5\u770b\u65b0\u589e\u7684\u8be6\u7ec6\u4fe1\u606f","stepForm.created.extra.detail":"\u67e5\u770b\u8be6\u60c5"}}},31304:function(e,t,r){r.r(t),r.d(t,{registerCalc:function(){return o}});var n=r(54559);function o(e){var t="calc-lan";o.registered||(o.registered=!0,e.languages.register({id:t}),(0,n.registerProvier)(t))}o.registered=!1},54559:function(e,t,r){r.r(t),r.d(t,{registerProvier:function(){return i}});var n=r(11422),o=r(8840),a=r(75031),s=r(33654),i=function(e){var t=[];return t.push(n.languages.setTokensProvider(e,new s.TokensProviders)),t.push(n.languages.registerHoverProvider(e,new o.HoverProvider)),t.push(new a.Linter(e)),function(e){return{dispose:function(){return function(e){e.forEach((function(e){return e.dispose()}))}(e)}}}(t)}},31740:function(e,t,r){r.r(t),r.d(t,{validate:function(){return m}});var n=r(1413),o=r(15861),a=r(87757),s=r.n(a),i=r(63399),c=r(11422),l=r(28438),u=r(57307),d=function(e){var t;return{startLineNumber:e.line,startColumn:e.charPositionInLine+1,endLineNumber:e.line,endColumn:e.charPositionInLine+((null===(t=e.text)||void 0===t?void 0:t.length)||0)+1}},m=function(){var e=(0,o.Z)(s().mark((function e(t){var r,o,a,m,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="",e.prev=1,r=t.getValue(),console.log(r),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),c.editor.setModelMarkers(t,"ruleLint",[]),e.abrupt("return");case 10:if(r.trim()){e.next=13;break}return c.editor.setModelMarkers(t,"ruleLint",[]),e.abrupt("return");case 13:return o=(0,l.createLexer)(r),a=new i.CommonTokenStream(o),m=new u.Bi(a),o.removeErrorListeners(),m.removeErrorListeners(),p=[],o.addErrorListener({syntaxError:function(e,t,r,n,o,a){p.push({message:o,severity:c.MarkerSeverity.Error,source:"validator",startLineNumber:r,startColumn:n+1,endLineNumber:r,endColumn:n+2,code:"lexer"})}}),m.addErrorListener({syntaxError:function(e,t,r,o,a,s){t&&p.push((0,n.Z)({message:a,severity:c.MarkerSeverity.Error,source:"validator",code:"parser"},d(t)))}}),m.tsl(),e.abrupt("return",p);case 23:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},92359:function(e,t,r){r.r(t),t.default={container:"container--WzLV9",wrapper:"wrapper--vZNEz",form:"form--ueE38","form-extra":"form-extra--zkWDE"}}}]);
//# sourceMappingURL=4411.d82cd133.chunk.js.map